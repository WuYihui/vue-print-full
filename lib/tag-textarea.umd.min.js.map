{"version":3,"sources":["webpack://tag-textarea/webpack/universalModuleDefinition","webpack://tag-textarea/webpack/bootstrap","webpack://tag-textarea/./node_modules/_@vue_cli-service@3.12.1@@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://tag-textarea/./src/packages/printarea.js","webpack://tag-textarea/./src/packages/print.js","webpack://tag-textarea/./src/index.js","webpack://tag-textarea/./node_modules/_@vue_cli-service@3.12.1@@vue/cli-service/lib/commands/build/entry-lib.js","webpack://tag-textarea/./node_modules/_current-script-polyfill@1.0.0@current-script-polyfill/currentScript.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","document","currentScript","src","match","constructor","option","standards","strict","loose","html5","selectArray","counter","settings","standard","extraHead","extraCss","popTitle","endCallback","ids","noPrint","assign","init","id","PrintAreaWindow","getPrintWindow","write","doc","print","PAWindow","paWindow","win","_loaded","focus","box","getElementById","canvasList","elsdom","querySelectorAll","console","log","length","_parent","parentNode","removeChild","e","ActiveXObject","onload","PADocument","$ele","open","docType","getHead","getBody","close","transitional","dtd","links","style","replace","forEach","item","href","indexOf","domStyle","styleSheets","cssRules","rules","b","cssText","RegExp","beforeHanler","ele","getFormData","htm","outerHTML","display","_canvasUrl","toDataURL","_img","Image","className","appendChild","copy","cloneNode","copiedInputs","canvasImgList","selectCount","tagName","toLowerCase","typeInput","getAttribute","copiedInput","setAttribute","checked","select","opSelectedIndex","selectedIndex","options","innerHTML","f","Iframe","contentWindow","iframe","frameId","that","createElement","body","border","position","width","height","right","top","Date","getTime","contentDocument","Error","directiveName","el","binding","vnode","vue","context","closeBtn","addEventListener","$nextTick","localPrint","Print","Vue","directive","scripts","getElementsByTagName","err","res","exec","stack","readyState"],"mappings":"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","file":"tag-textarea.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"tag-textarea\"] = factory();\n\telse\n\t\troot[\"tag-textarea\"] = factory();\n})((typeof self !== 'undefined' ? self : this), function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"112a\");\n","// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    require('current-script-polyfill')\n  }\n\n  var i\n  if ((i = window.document.currentScript) && (i = i.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/))) {\n    __webpack_public_path__ = i[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","export default class {\r\n  constructor(option) {\r\n\r\n    this.standards = {\r\n      strict: 'strict',\r\n      loose: 'loose',\r\n      html5: 'html5'\r\n    };\r\n    this.selectArray = []; // 存储select的\r\n    this.counter = 0;\r\n    this.settings = {\r\n      standard: this.standards.html5,\r\n      extraHead: '', // 附加在head标签上的额外元素,使用逗号分隔\r\n      extraCss: '', // 额外的css逗号分隔\r\n      popTitle: '', // 标题\r\n      endCallback: null, // 成功打开后的回调函数\r\n      ids: '', // 局部打印的id\r\n      noPrint: '.no-print' // 不打印的元素\r\n    };\r\n    Object.assign(this.settings, option);\r\n\r\n    this.init();\r\n  }\r\n  init() {\r\n    this.counter++;\r\n    this.settings.id = `printArea_${this.counter}`;\r\n    let PrintAreaWindow = this.getPrintWindow(); // 创建iframe\r\n    this.write(PrintAreaWindow.doc); // 写入内容\r\n    this.print(PrintAreaWindow);\r\n    this.settings.endCallback();\r\n\r\n  }\r\n  print(PAWindow) {\r\n    let paWindow = PAWindow.win;\r\n    const _loaded = () => {\r\n      paWindow.focus();\r\n      paWindow.print();\r\n      try {\r\n        let box = document.getElementById(this.settings.id);\r\n        let canvasList = this.elsdom.querySelectorAll('.canvasImg')\r\n        console.log(this.elsdom)\r\n        for (let i = 0; i < canvasList.length; i++) {\r\n          let _parent = canvasList[i].parentNode\r\n          _parent.removeChild(canvasList[i])\r\n        }\r\n        box.parentNode.removeChild(box);\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    };\r\n    if (window.ActiveXObject) {\r\n      paWindow.onload = _loaded();\r\n      return false;\r\n    }\r\n    paWindow.onload = () => {\r\n      _loaded();\r\n    };\r\n  }\r\n  write(PADocument, $ele) {\r\n    PADocument.open();\r\n    PADocument.write(`${this.docType()}<html>${this.getHead()}${this.getBody()}</html>`);\r\n    PADocument.close();\r\n\r\n  }\r\n  docType() {\r\n    if (this.settings.standard === this.standards.html5) {\r\n      return '<!DOCTYPE html>';\r\n    }\r\n    var transitional = this.settings.standard === this.standards.loose ? ' Transitional' : '';\r\n    var dtd = this.settings.standard === this.standards.loose ? 'loose' : 'strict';\r\n\r\n    return `<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01${transitional}//EN\" \"http://www.w3.org/TR/html4/${dtd}.dtd\">`;\r\n  }\r\n  getHead() {\r\n    let extraHead = '';\r\n    let links = '';\r\n    let style = this.settings.noPrint + \"{display:none;}\";\r\n    if (this.settings.extraHead) {\r\n      this.settings.extraHead.replace(/([^,]+)/g, (m) => {\r\n        extraHead += m;\r\n      });\r\n    }\r\n    // 复制所有link标签\r\n    [].forEach.call(document.querySelectorAll('link'), function (item, i) {\r\n      if (item.href.indexOf('.css') >= 0) {\r\n        links += `<link type=\"text/css\" rel=\"stylesheet\" href=\"${item.href}\" >`;\r\n      }\r\n    });\r\n    // const _links = document.querySelectorAll('link');\r\n    // if (typeof _links === 'object' || _links.length > 0) {\r\n    //   // 复制所有link标签\r\n    //   for (let i = 0; i < _links.length; i++) {\r\n    //     let item = _links[i];\r\n    //     if (item.href.indexOf('.css') >= 0) {\r\n    //       links += `<link type=\"text/css\" rel=\"stylesheet\" href=\"${item.href}\" >`;\r\n    //     }\r\n    //   }\r\n    // }\r\n    // 循环获取style标签的样式\r\n    let domStyle = document.styleSheets;\r\n    if (domStyle && domStyle.length > 0) {\r\n      for (let i = 0; i < domStyle.length; i++) {\r\n        try {\r\n          if (domStyle[i].cssRules || domStyle[i].rules) {\r\n            let rules = domStyle[i].cssRules || domStyle[i].rules;\r\n            for (let b = 0; b < rules.length; b++) {\r\n              style += rules[b].cssText;\r\n            }\r\n          }\r\n        } catch (e) {\r\n          console.log(domStyle[i].href + e);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.settings.extraCss) {\r\n      this.settings.extraCss.replace(/([^,\\s]+)/g, (m) => {\r\n        links += `<link type=\"text/css\" rel=\"stylesheet\" href=\"${m}\">`;\r\n      });\r\n\r\n    }\r\n\r\n    return `<head><title>${this.settings.popTitle}</title>${extraHead}${links}<style type=\"text/css\">${style}</style></head>`;\r\n  }\r\n  getBody() {\r\n    let ids = this.settings.ids;\r\n    ids = ids.replace(new RegExp(\"#\", \"g\"), '');\r\n    this.elsdom = this.beforeHanler(document.getElementById(ids));\r\n    let ele = this.getFormData(this.elsdom);\r\n    let htm = ele.outerHTML;\r\n    return '<body>' + htm + '</body>';\r\n  }\r\n  // 克隆节点之前做的操作\r\n  beforeHanler(elsdom) {\r\n    let canvasList = elsdom.querySelectorAll('canvas');\r\n    // canvas转换png图片\r\n    for (let i = 0; i < canvasList.length; i++) {\r\n      if (!canvasList[i].style.display) {\r\n        let _parent = canvasList[i].parentNode\r\n        let _canvasUrl = canvasList[i].toDataURL('image/png')\r\n        let _img = new Image()\r\n        _img.className = 'canvasImg'\r\n        _img.style.display = 'none'\r\n        _img.src = _canvasUrl\r\n        // _parent.replaceChild(_img, canvasList[i])\r\n        _parent.appendChild(_img)\r\n      }\r\n    }\r\n    return elsdom\r\n  }\r\n  // 根据type去处理form表单\r\n  getFormData(ele) {\r\n    let copy = ele.cloneNode(true);\r\n    let copiedInputs = copy.querySelectorAll('input,select,textarea');\r\n    let canvasImgList = copy.querySelectorAll('.canvasImg,canvas');\r\n    let selectCount = -1;\r\n    // 处理所有canvas\r\n    for (let i = 0; i < canvasImgList.length; i++) {\r\n      let _parent = canvasImgList[i].parentNode\r\n      let item = canvasImgList[i]\r\n      // 删除克隆后的canvas节点\r\n      if (item.tagName.toLowerCase() === 'canvas') {\r\n        _parent.removeChild(item)\r\n      } else {\r\n        item.style.display = 'block'\r\n      }\r\n    }\r\n    // 处理所有输入框\r\n    for (let i = 0; i < copiedInputs.length; i++) {\r\n      let item = copiedInputs[i];\r\n      let typeInput = item.getAttribute('type');\r\n      let copiedInput = copiedInputs[i];\r\n      // 获取select标签\r\n      if (!typeInput) {\r\n        typeInput = item.tagName === 'SELECT' ? 'select' : item.tagName === 'TEXTAREA' ? 'textarea' : '';\r\n      }\r\n      // 处理input框\r\n      if (item.tagName === 'INPUT') {\r\n        // 除了单选框 多选框比较特别\r\n        if (typeInput === 'radio' || typeInput === 'checkbox') {\r\n          copiedInput.setAttribute('checked', item.checked);\r\n          // \r\n        } else {\r\n          copiedInput.value = item.value;\r\n          copiedInput.setAttribute('value', item.value);\r\n        }\r\n        // 处理select\r\n      } else if (typeInput === 'select') {\r\n\r\n        selectCount++;\r\n        for (let b = 0; b < ele.querySelectorAll('select').length; b++) {\r\n          let select = ele.querySelectorAll('select')[b]; // 获取原始层每一个select\r\n          !select.getAttribute('newbs') && select.setAttribute('newbs', b) // 添加标识\r\n          if (select.getAttribute('newbs') == selectCount) {\r\n            let opSelectedIndex = ele.querySelectorAll('select')[selectCount].selectedIndex;\r\n            item.options[opSelectedIndex].setAttribute('selected', true);\r\n\r\n          }\r\n        }\r\n        // 处理textarea\r\n      } else {\r\n        copiedInput.innerHTML = item.value;\r\n        copiedInput.setAttribute('html', item.value);\r\n      }\r\n    }\r\n\r\n    return copy;\r\n  }\r\n  getPrintWindow() {\r\n    var f = this.Iframe();\r\n    return {\r\n      f: f,\r\n      win: f.contentWindow || f,\r\n      doc: f.doc\r\n    };\r\n  }\r\n  Iframe() {\r\n    let frameId = this.settings.id;\r\n    let iframe;\r\n    let that = this\r\n    try {\r\n      iframe = document.createElement('iframe');\r\n      document.body.appendChild(iframe);\r\n      iframe.style.border = '0px';\r\n      iframe.style.position = 'absolute';\r\n      iframe.style.width = '0px';\r\n      iframe.style.height = '0px';\r\n      iframe.style.right = '0px';\r\n      iframe.style.top = '0px';\r\n      iframe.setAttribute('id', frameId);\r\n      iframe.setAttribute('src', new Date().getTime());\r\n      iframe.doc = null;\r\n      iframe.doc = iframe.contentDocument ? iframe.contentDocument : (iframe.contentWindow ? iframe.contentWindow.document : iframe.document);\r\n      iframe.onload = function () {\r\n        var win = iframe.contentWindow || iframe;\r\n        that.print(win);\r\n      }\r\n    } catch (e) {\r\n      throw new Error(e + '. iframes may not be supported in this browser.');\r\n    }\r\n\r\n    if (iframe.doc == null) {\r\n      throw new Error('Cannot find document.');\r\n    }\r\n\r\n    return iframe;\r\n  }\r\n}","import Print from './printarea.js';\r\n/**\r\n * @file 打印\r\n * 指令`v-print`,默认打印整个窗口\r\n * 传入参数`v-print=\"'#id'\"` , 参数为需要打印局部的盒子标识.\r\n */\r\nexport default {\r\n\tdirectiveName: 'print',\r\n\tbind(el, binding, vnode) {\r\n\t\tlet vue = vnode.context;\r\n\t\tlet closeBtn = true;\r\n\t\tlet id = '';\r\n\t\tel.addEventListener('click', () => {\r\n\t\t\tvue.$nextTick(() => {\r\n\t\t\t\tif (typeof binding.value === 'string') {\r\n\t\t\t\t\tid = binding.value;\r\n\t\t\t\t} else if (typeof binding.value === 'object' && !!binding.value.id) {\r\n\t\t\t\t\tid = binding.value.id;\r\n\t\t\t\t\tlet ids = id.replace(new RegExp(\"#\", \"g\"), '');\r\n\t\t\t\t\tlet elsdom = document.getElementById(ids);\r\n\t\t\t\t\tif (!elsdom) console.log(\"id in Error\"), id = '';\r\n\t\t\t\t}\r\n\t\t\t\t// 局部打印\r\n\t\t\t\tif (id) {\r\n\t\t\t\t\tlocalPrint();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 直接全局打印\r\n\t\t\t\t\twindow.print();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t});\r\n\t\tconst localPrint = () => {\r\n\t\t\tif (closeBtn) {\r\n\t\t\t\tcloseBtn = false;\r\n\t\t\t\tnew Print({\r\n\t\t\t\t\tids: id, // * 局部打印必传入id\r\n\t\t\t\t\tstandard: '', // 文档类型，默认是html5，可选 html5，loose，strict\r\n\t\t\t\t\textraHead: binding.value.extraHead, // 附加在head标签上的额外标签,使用逗号分隔\r\n\t\t\t\t\textraCss: binding.value.extraCss, // 额外的css连接，多个逗号分开\r\n\t\t\t\t\tpopTitle: binding.value.popTitle, // title的标题\r\n\t\t\t\t\tendCallback() { // 调用打印之后的回调事件\r\n\t\t\t\t\t\tcloseBtn = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n};","import Print from './packages/print.js';\r\nPrint.install = function(Vue) {\r\n    Vue.directive('print', Print);\r\n};\r\n\r\nexport default Print;","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n","// document.currentScript polyfill by Adam Miller\n\n// MIT license\n\n(function(document){\n  var currentScript = \"currentScript\",\n      scripts = document.getElementsByTagName('script'); // Live NodeList collection\n\n  // If browser needs currentScript polyfill, add get currentScript() to the document object\n  if (!(currentScript in document)) {\n    Object.defineProperty(document, currentScript, {\n      get: function(){\n\n        // IE 6-10 supports script readyState\n        // IE 10+ support stack trace\n        try { throw new Error(); }\n        catch (err) {\n\n          // Find the second match for the \"at\" string to get file src url from stack.\n          // Specifically works with the format of stack traces in IE.\n          var i, res = ((/.*at [^\\(]*\\((.*):.+:.+\\)$/ig).exec(err.stack) || [false])[1];\n\n          // For all scripts on the page, if src matches or if ready state is interactive, return the script tag\n          for(i in scripts){\n            if(scripts[i].src == res || scripts[i].readyState == \"interactive\"){\n              return scripts[i];\n            }\n          }\n\n          // If no match, return null\n          return null;\n        }\n      }\n    });\n  }\n})(document);\n"],"sourceRoot":""}